!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("qpsUtils",[],e):"object"==typeof exports?exports.qpsUtils=e():n.qpsUtils=e()}(this,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)t.d(r,o,function(e){return n[e]}.bind(null,o));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s=0)}([function(n,e,t){"use strict";function r(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}t.r(e),t.d(e,"arrayFormat",function(){return o}),t.d(e,"add",function(){return a}),t.d(e,"parse",function(){return f}),t.d(e,"baseUrl",function(){return i}),t.d(e,"construct",function(){return u}),t.d(e,"useArrayFormat",function(){return p});var o="duplicateKeys";function c(n){return null==n}function u(n){var e="",t="",r=c(n)?this.qMap:n;return c(r)?"":("string"==typeof this.baseUrl&&this.baseUrl.length>0&&(e+=this.baseUrl,Object.keys(r).length>0&&(e+="?")),Object.keys(r).forEach(function(n){var c=r[n];Array.isArray(c)?e+=function(n,e,t){var r="",c=encodeURIComponent(e);switch(o){case"squareBrackets":return t.forEach(function(e){var t=encodeURIComponent(e);r+="".concat(n).concat(c,"[]=").concat(t),n="&"}),r;case"index":return t.forEach(function(e,t){var o=encodeURIComponent(e);r+="".concat(n).concat(c,"[").concat(t,"]=").concat(o),n="&"}),r;case"comma":return r+="".concat(c,"=").concat(t.join(","));case"duplicateKeys":default:return t.forEach(function(e){var t=encodeURIComponent(e);r+="".concat(n).concat(c,"=").concat(t),n="&"}),r}}(t,n,c):e+="".concat(t).concat(encodeURIComponent(n),"=").concat(encodeURIComponent(c)),t="&"}),e)}function a(n,e){var t={qMap:r({},n,e)},o={add:function(n,e){return t.qMap[n]=e,o},construct:u.bind(t)};return o}function i(n){var e={baseUrl:n,qMap:{}},t={add:function(n,r){return e.qMap[n]=r,t},construct:u.bind(e)};return t}function f(n){if("string"!=typeof n)throw"Expected url in the string format, but received ".concat(n);var e={baseUrl:n,qMap:{}};return{baseUrl:s.bind(e),params:d.bind(e)}}function s(){var n=this.baseUrl,e=n.indexOf("?");return e<0?n:n.substring(0,e)}function d(){var n=this.baseUrl,e=void 0===n?"":n,t=e.indexOf("?"),r=e.substring(t+1).split("&"),o={baseUrl:e.substring(0,t),qMap:{}},c=o.qMap;r.forEach(function(n){var e=n.split("=");c[decodeURIComponent(e[0])]=decodeURIComponent(e[1])});var a={map:function(){return c},get:function(n){return c[n]},add:function(n,e){return c[decodeURIComponent(n)]=decodeURIComponent(e),a},remove:function(n){return delete c[encodeURIComponent(n)],a},changeBaseUrl:function(n){return o.baseUrl=n,a},construct:u.bind(o)};return a}function p(n){return o=n,this}}])});